[{"F:\\Role_Base_App\\client\\src\\components\\login.js":"1","F:\\Role_Base_App\\client\\src\\components\\admin.js":"2","F:\\Role_Base_App\\client\\src\\components\\loanModal.js":"3","F:\\Role_Base_App\\client\\src\\App.js":"4","F:\\Role_Base_App\\client\\src\\components\\header.js":"5","F:\\Role_Base_App\\client\\src\\components\\signup.js":"6","F:\\Role_Base_App\\client\\src\\context\\userContext.js":"7","F:\\Role_Base_App\\client\\src\\components\\agent.js":"8","F:\\Role_Base_App\\client\\src\\components\\customer.js":"9","F:\\Role_Base_App\\client\\src\\components\\authOptions.js":"10","F:\\Role_Base_App\\client\\src\\components\\home.js":"11","F:\\Role_Base_App\\client\\src\\index.js":"12","F:\\Role_Base_App\\client\\src\\components\\errorNotice.js":"13"},{"size":4206,"mtime":1607855674462,"results":"14","hashOfConfig":"15"},{"size":4317,"mtime":1607797948112,"results":"16","hashOfConfig":"15"},{"size":2137,"mtime":1608017370989,"results":"17","hashOfConfig":"15"},{"size":3473,"mtime":1607793039701,"results":"18","hashOfConfig":"15"},{"size":387,"mtime":1606654094794,"results":"19","hashOfConfig":"15"},{"size":8253,"mtime":1608023301152,"results":"20","hashOfConfig":"15"},{"size":75,"mtime":1606638688468,"results":"21","hashOfConfig":"15"},{"size":7382,"mtime":1608017202860,"results":"22","hashOfConfig":"15"},{"size":2667,"mtime":1608022312620,"results":"23","hashOfConfig":"15"},{"size":1915,"mtime":1608021727967,"results":"24","hashOfConfig":"15"},{"size":1501,"mtime":1608021464197,"results":"25","hashOfConfig":"15"},{"size":161,"mtime":1606299943170,"results":"26","hashOfConfig":"15"},{"size":298,"mtime":1607854672974,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30","usedDeprecatedRules":"31"},"1oxy7sx",{"filePath":"32","messages":"33","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"34","messages":"35","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"40"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"50","messages":"51","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"31"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"F:\\Role_Base_App\\client\\src\\components\\login.js",["60"],"import React, { useState, useContext, useEffect } from 'react';\r\nimport '../components/style.global.css';\r\nimport Axios from 'axios';\r\nimport userContext from '../context/userContext';\r\n\r\nimport Agent from '../components/agent';\r\nimport Admin from '../components/admin';\r\nimport Customer from '../components/customer';\r\nimport ErrorNotice from '../components/errorNotice';\r\n\r\n\r\n\r\nconst Login = () => {\r\n    \r\n    const [userlogin, setUserlogin] = useState({\r\n        email: '',\r\n        password: ''\r\n    });\r\n    let { loggedInUser, setLoggedInUser} = useContext(userContext);\r\n    const { role, setRole } = useContext(userContext);\r\n    const [error, setError] = useState();\r\n\r\n\r\n   \r\n        const clearInput = () => {\r\n            setUserlogin({\r\n\r\n                email: '',\r\n                password: ''\r\n              });\r\n        }\r\n        const loginUser = (e) => {\r\n            try{\r\n            e.preventDefault();\r\n            Axios.post('http://localhost:9000/users/login', userlogin)\r\n            .then(res => {\r\n                console.log('login user is',res.data[0]);\r\n                const loginUser = res.data[0];  \r\n                setLoggedInUser ({\r\n                    token: loginUser.token,\r\n                    firstname: loginUser.firstname,\r\n                    lastname: loginUser.lastname,\r\n                    email: loginUser.email,\r\n                    role:loginUser.role,\r\n                    id: loginUser.id\r\n\r\n                });\r\n                setRole(loginUser.role);\r\n\r\n                localStorage.setItem(\"auth-token\",loginUser.token);\r\n\r\n\r\n                console.log('logged in user',loggedInUser);\r\n            }).catch(err => {\r\n                    console.log(err);\r\n                    err.response.data.msg && setError(err.response.data.msg);\r\n\r\n            }) ;\r\n            clearInput();\r\n            }\r\n        catch(err)\r\n        {\r\n            err.response.data.msg && setError(err.response.data.msg);\r\n        }\r\n        }\r\n        const updateField = e => {\r\n\r\n            setUserlogin({\r\n              ...userlogin,\r\n              [e.target.name]: e.target.value\r\n            });\r\n          };\r\n          \r\n    return(\r\n        <>\r\n        {\r\n            role === 'Admin' ? \r\n             <Admin /> :\r\n            role === 'Agent' ? \r\n             <Agent /> :\r\n            role === 'Customer' ?\r\n             <Customer /> :\r\n            <form className='components ' onSubmit={loginUser}>\r\n                <div className=\"top-label\">\r\n                    {error && <ErrorNotice message={error} clearError={() => setError(undefined)} />}\r\n\r\n                    <label  >Sign In </label>\r\n                </div>\r\n                <div>\r\n                    <label className='text-label' htmlFor=\"email\">Email</label>\r\n                </div>\r\n                <div>\r\n                    <input\r\n                            className='input-box'\r\n                            id=\"email\"\r\n                            value={userlogin.email}\r\n                            onChange={(e) => updateField(e)}\r\n                            placeholder=\"Email address\"\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className='text-label' htmlFor=\"password\">Password</label>\r\n                    </div>\r\n                    <div>\r\n                        <input\r\n                            className='input-box'\r\n                            id=\"password\"\r\n                            value={userlogin.password}\r\n                            onChange={(e) => updateField(e)}\r\n                            placeholder=\"Password\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div style={{textAlign:'center'}}>\r\n                        <button type=\"submit\" className=\"btn-submit\">Login</button>\r\n                        \r\n                </div>\r\n            </form>\r\n}\r\n        </>\r\n\r\n    )\r\n}\r\nexport default Login;",["61","62"],"F:\\Role_Base_App\\client\\src\\components\\admin.js",["63","64"],"F:\\Role_Base_App\\client\\src\\components\\loanModal.js",["65","66","67","68","69","70","71"],"import React, { useState, useContext, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport userContext from '../context/userContext';\r\n\r\n\r\n const LoanModal = ({loanCustId }) => {\r\n    const[approvedUser, setApprovedUser] = useState([]);\r\n\r\n    const {usersdata,setUsersData} = useContext(userContext);\r\n    const {loanusers,setLoanUsers} = useContext(userContext);\r\n    const { modal, setModal } = useContext(userContext);\r\n    console.log('modal prop', loanCustId);\r\n \r\n    \r\n    const closeModal = () => {\r\n        setModal({\r\n            show: false\r\n          });\r\n          console.log('modal state',modal)\r\n    }\r\n\r\n  \r\n        \r\n   \r\n\r\n    return (\r\n        \r\n            !modal.show ? \r\n            null:\r\n            <div className=\"loan-modal\">\r\n                \r\n                <div className='modal-header'>\r\n                    <h3 className=\"top-label\">Loan details :</h3> \r\n                    <button className=\" modal-close-btn\" onClick={  closeModal }>x</button>\r\n                </div>\r\n                <div className=\"\"> \r\n           \r\n                <table className=\"loan-modal-table\">\r\n                    <tr>\r\n                        <th>State</th>\r\n                        <th>Amount</th>\r\n                        <th>Emi</th>\r\n                        <th>Interest</th>\r\n                        <th>Tenure</th>\r\n                    </tr>\r\n            \r\n           \r\n                        {\r\n                            loanusers.map(loan => loan.state === 'Approved' && loan.customerId === loanCustId  ? \r\n                            <tr>\r\n                                <td>{loan.state}</td>\r\n                                <td>{loan.amount}</td>\r\n                                <td>{loan.emi}</td>\r\n                                <td>{loan.interest}</td>\r\n                                <td>{loan.tenure} months</td>\r\n                            </tr>\r\n                        :''\r\n                        )\r\n                        }\r\n            \r\n                \r\n                </table> \r\n        </div>\r\n            </div>\r\n\r\n        \r\n        \r\n    )\r\n}\r\n\r\nexport default LoanModal\r\n","F:\\Role_Base_App\\client\\src\\App.js",["72"],"import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport Axios from 'axios';\r\n\r\nimport Home from './components/home';\r\nimport Header from './components/header'\r\nimport Signup from './components/signup';\r\nimport Login from './components/login';\r\nimport './components/style.global.css';\r\nimport userContext from './context/userContext';\r\n\r\n\r\n    const App = () =>{\r\n    \r\n    let [registereduser, setRegisteredUser] = useState({\r\n        token: undefined,\r\n        firstname: undefined,\r\n        lastname: undefined,\r\n        email: undefined,\r\n        role: undefined,\r\n        id: undefined\r\n    });\r\n        const [userData, setUserData] = useState({\r\n            token: undefined,\r\n            user: undefined\r\n        });\r\n\r\n        let [userregistered,setUserRegistered] = useState('');\r\n        let [role, setRole] = useState('');\r\n        const [loggedInUser, setLoggedInUser ] = useState('');\r\n        const [modal, setModal] = useState({\r\n            show: false\r\n        });\r\n\r\n        const [usersdata,setUsersData] = useState([]);\r\n        const [loanusers,setLoanUsers] = useState([]);\r\n\r\n\r\n\r\n        useEffect(() => {\r\n            const checkLoggedIn = async () => {\r\n                let token = localStorage.getItem(\"auth-token\");\r\n                console.log('auth-token',token);\r\n                if(token === null){\r\n                    localStorage.setItem(\"auth-token\",\"\");\r\n                    token= \"\";\r\n                }\r\n                const tokenRes = await Axios.post('http://localhost:9000/users/tokenIsValid',\r\n                null,\r\n                {    headers: { \"x-auth-token\":token } }\r\n                );\r\n                if(tokenRes.data){\r\n                    const userRes = await Axios.get('http://localhost:9000/users/user',\r\n                    { headers: { \"x-auth-token\": token } }\r\n                    );\r\n                    setUserData({\r\n                        token,\r\n                        user: userRes.data,\r\n                    })\r\n                    console.log('setuserdata',userData)\r\n                }\r\n            }\r\n            checkLoggedIn();\r\n\r\n        },[])\r\n    return(\r\n        \r\n            <BrowserRouter>\r\n            <userContext.Provider \r\n            value={{\r\n                 userData,\r\n                 setUserData, \r\n                 userregistered, \r\n                 setUserRegistered, \r\n                 role, \r\n                 setRole, \r\n                 registereduser, \r\n                 setRegisteredUser,\r\n                 loggedInUser,\r\n                 setLoggedInUser,\r\n                 modal,\r\n                 setModal,\r\n                 usersdata,\r\n                 setUsersData,\r\n                 loanusers,\r\n                 setLoanUsers\r\n                 }}>\r\n            <Header />\r\n            <Switch>\r\n            <div className=\"container\" >\r\n                <Route exact path=\"/\" component={Home} />\r\n                <Route path=\"/login\" component={Login} />\r\n                <Route path=\"/signup\" component={Signup} />\r\n            </div>\r\n            </Switch>\r\n                {/* <Signup className='components_abc' userinfo={userinfo} setUserinfo={setUserinfo}  /> */}\r\n                {/* <Login className='components_abc' loginemail setloginEmail loginpassword setloginPassword /> */}\r\n            </userContext.Provider>\r\n            </BrowserRouter>\r\n        \r\n\r\n    )\r\n  \r\n}\r\nexport default App;",["73","74"],"F:\\Role_Base_App\\client\\src\\components\\header.js",[],"F:\\Role_Base_App\\client\\src\\components\\signup.js",["75"],"F:\\Role_Base_App\\client\\src\\context\\userContext.js",[],["76","77"],"F:\\Role_Base_App\\client\\src\\components\\agent.js",["78","79"],"F:\\Role_Base_App\\client\\src\\components\\customer.js",["80","81","82"],"F:\\Role_Base_App\\client\\src\\components\\authOptions.js",["83","84"],"F:\\Role_Base_App\\client\\src\\components\\home.js",[],"F:\\Role_Base_App\\client\\src\\index.js",[],"F:\\Role_Base_App\\client\\src\\components\\errorNotice.js",[],{"ruleId":"85","severity":1,"message":"86","line":1,"column":39,"nodeType":"87","messageId":"88","endLine":1,"endColumn":48},{"ruleId":"89","replacedBy":"90"},{"ruleId":"91","replacedBy":"92"},{"ruleId":"85","severity":1,"message":"93","line":16,"column":5,"nodeType":"87","messageId":"88","endLine":16,"endColumn":10},{"ruleId":"94","severity":1,"message":"95","line":95,"column":7,"nodeType":"96","endLine":95,"endColumn":18,"suggestions":"97"},{"ruleId":"85","severity":1,"message":"86","line":1,"column":39,"nodeType":"87","messageId":"88","endLine":1,"endColumn":48},{"ruleId":"85","severity":1,"message":"98","line":2,"column":8,"nodeType":"87","messageId":"88","endLine":2,"endColumn":13},{"ruleId":"85","severity":1,"message":"99","line":7,"column":11,"nodeType":"87","messageId":"88","endLine":7,"endColumn":23},{"ruleId":"85","severity":1,"message":"100","line":7,"column":25,"nodeType":"87","messageId":"88","endLine":7,"endColumn":40},{"ruleId":"85","severity":1,"message":"101","line":9,"column":12,"nodeType":"87","messageId":"88","endLine":9,"endColumn":21},{"ruleId":"85","severity":1,"message":"102","line":9,"column":22,"nodeType":"87","messageId":"88","endLine":9,"endColumn":34},{"ruleId":"85","severity":1,"message":"103","line":10,"column":22,"nodeType":"87","messageId":"88","endLine":10,"endColumn":34},{"ruleId":"94","severity":1,"message":"104","line":65,"column":11,"nodeType":"96","endLine":65,"endColumn":13,"suggestions":"105"},{"ruleId":"89","replacedBy":"106"},{"ruleId":"91","replacedBy":"107"},{"ruleId":"85","severity":1,"message":"108","line":13,"column":27,"nodeType":"87","messageId":"88","endLine":13,"endColumn":44},{"ruleId":"89","replacedBy":"109"},{"ruleId":"91","replacedBy":"110"},{"ruleId":"85","severity":1,"message":"103","line":22,"column":16,"nodeType":"87","messageId":"88","endLine":22,"endColumn":28},{"ruleId":"94","severity":1,"message":"95","line":75,"column":7,"nodeType":"96","endLine":75,"endColumn":18,"suggestions":"111"},{"ruleId":"85","severity":1,"message":"112","line":8,"column":21,"nodeType":"87","messageId":"88","endLine":8,"endColumn":36},{"ruleId":"85","severity":1,"message":"113","line":9,"column":23,"nodeType":"87","messageId":"88","endLine":9,"endColumn":40},{"ruleId":"94","severity":1,"message":"114","line":50,"column":3,"nodeType":"96","endLine":50,"endColumn":33,"suggestions":"115"},{"ruleId":"85","severity":1,"message":"116","line":16,"column":11,"nodeType":"87","messageId":"88","endLine":16,"endColumn":25},{"ruleId":"94","severity":1,"message":"117","line":47,"column":6,"nodeType":"96","endLine":47,"endColumn":12,"suggestions":"118"},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","no-native-reassign",["119"],"no-negated-in-lhs",["120"],"'Token' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getLoanUsers' and 'getUsers'. Either include them or remove the dependency array.","ArrayExpression",["121"],"'axios' is defined but never used.","'approvedUser' is assigned a value but never used.","'setApprovedUser' is assigned a value but never used.","'usersdata' is assigned a value but never used.","'setUsersData' is assigned a value but never used.","'setLoanUsers' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'userData'. Either include it or remove the dependency array.",["122"],["119"],["120"],"'setRegisteredUser' is assigned a value but never used.",["119"],["120"],["123"],"'setLoggedInUser' is assigned a value but never used.","'setUserRegistered' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'getLoanUsers'. Either include it or remove the dependency array.",["124"],"'registereduser' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'loggedInUser'. Either include it or remove the dependency array.",["125"],"no-global-assign","no-unsafe-negation",{"desc":"126","fix":"127"},{"desc":"128","fix":"129"},{"desc":"126","fix":"130"},{"desc":"131","fix":"132"},{"desc":"133","fix":"134"},"Update the dependencies array to be: [getLoanUsers, getUsers, loanusers]",{"range":"135","text":"136"},"Update the dependencies array to be: [userData]",{"range":"137","text":"138"},{"range":"139","text":"136"},"Update the dependencies array to be: [getLoanUsers, loggedInUser, userregistered]",{"range":"140","text":"141"},"Update the dependencies array to be: [loggedInUser, role]",{"range":"142","text":"143"},[2687,2698],"[getLoanUsers, getUsers, loanusers]",[2187,2189],"[userData]",[1923,1934],[1275,1305],"[getLoanUsers, loggedInUser, userregistered]",[1318,1324],"[loggedInUser, role]"]